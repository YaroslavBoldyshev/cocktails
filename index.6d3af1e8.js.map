{"mappings":"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","sources":["src/JS/searchForm.js"],"sourcesContent":["import FetchDrinks from './fetchDrinks';\nimport cocktailMarkup from './cocktailMarkup';\nimport Plagination from './plagination';\nimport { listenLearnMoreBtns, currentModalID } from './learnMoreBtns';\nimport refs from './refs';\nimport Storage from './storage';\n// import { addDrink } from '..';\n\nlet x;\nconst plagination = new Plagination();\nconst fetchDrinks = new FetchDrinks();\nconst storage = new Storage();\n// ---------------------------------\nrefs.searchByAbcBtnsMobile.addEventListener('click', searchByAbcMobile);\nrefs.searchByAbcBtns.addEventListener('click', searchByAbc);\nfunction searchByAbc(e) {\n  if (e.target != e.currentTarget) {\n    handleSubmit(e);\n  }\n}\nfunction searchByAbcMobile(e) {\n  if (e.target != e.currentTarget && e.target.nodeName != 'BUTTON') {\n    handleSubmit(e);\n  }\n}\nrefs.form.forEach(e => e.addEventListener('submit', handleSubmit));\nasync function handleSubmit(e) {\n  e.preventDefault();\n  refs.plagination.classList.add('visually-hidden');\n  plagination.currentPage = 1;\n  refs.burger.classList.add('visually-hidden');\n  refs.mainCocktailsList.innerHTML = '';\n  let searchKeyWord;\n  let serchResult;\n  if (e.currentTarget.nodeName == 'UL' || e.currentTarget.nodeName == 'DIV') {\n    searchKeyWord = e.target.textContent;\n    serchResult = await fetchDrinks.byLetter(searchKeyWord);\n  } else {\n    searchKeyWord = e.currentTarget.elements.searchInput.value;\n    serchResult = await fetchDrinks.byName(searchKeyWord);\n  }\n\n  x = serchResult;\n  if (serchResult != null && serchResult.length > 9) {\n    createPlaginationList(serchResult.length);\n    refs.plagination.classList.remove('visually-hidden');\n  }\n  if (serchResult == null) {\n    refs.cocktailsSection.classList.add('visually-hidden');\n    refs.error.classList.remove('visually-hidden');\n    refs.plagination.classList.add('visually-hidden');\n  } else {\n    refs.error.classList.add('visually-hidden');\n    refs.cocktailsSection.classList.remove('visually-hidden');\n    showSearchResults(serchResult);\n  }\n}\nfunction showSearchResults(serchResult) {\n  const numberOfItems = plagination.itemsPerPage();\n  serchResult.map((el, index) => {\n    if (\n      index >= (plagination.currentPage - 1) * numberOfItems &&\n      index < plagination.currentPage * numberOfItems\n    ) {\n      refs.mainCocktailsList.insertAdjacentHTML(\n        'beforeend',\n        cocktailMarkup(el)\n      );\n      // ------- adding icon----\n      const useHtml = refs.iconHeart.innerHTML;\n      const favDrink = document.querySelector(`[id=\"${el.idDrink}\"]`);\n      favDrink.addEventListener('click', addDrink);\n      listenLearnMoreBtns(el);\n      const svg = favDrink.children[1];\n      svg.innerHTML = useHtml;\n\n      // ----------------------\n    }\n  });\n  function addDrink(e) {\n    toggleActive(e);\n    storage.toggleDrink(e.currentTarget.id);\n  }\n  function toggleActive(e) {\n    if (e.currentTarget.children[0].textContent === 'Add to') {\n      e.currentTarget.children[0].textContent = 'Remove';\n    } else {\n      e.currentTarget.children[0].textContent = 'Add to';\n    }\n    e.currentTarget.children[1].classList.toggle('icon-heart-not-active');\n  }\n  // listenLearnMoreBtns();\n}\nfunction createPlaginationList(resultsNumber) {\n  const plaginationMarkup = [];\n  const numberOfItems = plagination.itemsPerPage();\n  const numberOfPages = Math.ceil(resultsNumber / numberOfItems);\n  for (let i = 1; i < numberOfPages + 1; i++) {\n    let active;\n    if (i == plagination.currentPage) {\n      active = 'pagination__active';\n    }\n    plaginationMarkup.push(\n      `<li><button type=\"button\" class=\"pagination__numb pagination__item ${active}\" id=\"${i}\" data-page>${i}</button></li>`\n    );\n  }\n  refs.pages.innerHTML = plaginationMarkup.join('');\n  const plagBtns = document.querySelectorAll('[data-page]');\n  plagBtns.forEach(btn => {\n    btn.addEventListener('click', plaginationClick);\n  });\n}\n\nasync function plaginationClick(e) {\n  const plagBtns1 = document.querySelectorAll('[data-page]');\n  plagBtns1.forEach(btn => btn.classList.remove('pagination__active'));\n  e.target.classList.add('pagination__active');\n  plagination.currentPage = +e.currentTarget.id;\n  refs.mainCocktailsList.innerHTML = '';\n  const numOfPages = refs.pages.children.length;\n  if (plagination.currentPage != 1) {\n    refs.arrowPrev.children[0].classList.remove('arrow-no-active');\n  }\n  if (plagination.currentPage == 1) {\n    refs.arrowPrev.children[0].classList.add('arrow-no-active');\n  }\n  if (plagination.currentPage == numOfPages) {\n    refs.arrowNext.children[0].classList.add('arrow-no-active');\n  }\n  if (plagination.currentPage != numOfPages) {\n    refs.arrowNext.children[0].classList.remove('arrow-no-active');\n  }\n  showSearchResults(x);\n}\nrefs.arrowNext.addEventListener('click', showNextPage);\nrefs.arrowPrev.addEventListener('click', showPrevPage);\nfunction showNextPage() {\n  const numOfPages = refs.pages.children.length;\n  if (plagination.currentPage < numOfPages) {\n    plagination.nextPage();\n    refs.mainCocktailsList.innerHTML = '';\n    const plagBtns1 = document.querySelectorAll('[data-page]');\n    plagBtns1.forEach(btn => {\n      btn.classList.remove('pagination__active');\n      if (btn.textContent == plagination.currentPage) {\n        btn.classList.add('pagination__active');\n      }\n    });\n    if (plagination.currentPage != 1) {\n      refs.arrowPrev.children[0].classList.remove('arrow-no-active');\n    }\n    if (plagination.currentPage == 1) {\n      refs.arrowPrev.children[0].classList.add('arrow-no-active');\n    }\n    if (plagination.currentPage == numOfPages) {\n      refs.arrowNext.children[0].classList.add('arrow-no-active');\n    }\n    if (plagination.currentPage != numOfPages) {\n      refs.arrowNext.children[0].classList.remove('arrow-no-active');\n    }\n    showSearchResults(x);\n  }\n}\nfunction showPrevPage() {\n  const numOfPages = refs.pages.children.length;\n  if (plagination.currentPage > 1) {\n    plagination.prevPage();\n    refs.mainCocktailsList.innerHTML = '';\n    const plagBtns1 = document.querySelectorAll('[data-page]');\n    plagBtns1.forEach(btn => {\n      btn.classList.remove('pagination__active');\n      if (btn.textContent == plagination.currentPage) {\n        btn.classList.add('pagination__active');\n      }\n    });\n    if (plagination.currentPage != 1) {\n      refs.arrowPrev.children[0].classList.remove('arrow-no-active');\n    }\n    if (plagination.currentPage == 1) {\n      refs.arrowPrev.children[0].classList.add('arrow-no-active');\n    }\n    if (plagination.currentPage == numOfPages) {\n      refs.arrowNext.children[0].classList.add('arrow-no-active');\n    }\n    if (plagination.currentPage != numOfPages) {\n      refs.arrowNext.children[0].classList.remove('arrow-no-active');\n    }\n    showSearchResults(x);\n  }\n}\n\nexport { createPlaginationList, handleSubmit };\n"],"names":["$04ec958935e13352$var$x","$bpxeT","parcelRequire","$04ec958935e13352$var$plagination","$f3eg1","default","$04ec958935e13352$var$fetchDrinks","$52cT6","$04ec958935e13352$var$storage","$gp0NK","$04ec958935e13352$export$89c2621768820c8b","e","$04ec958935e13352$var$_handleSubmit","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","searchKeyWord","serchResult","preventDefault","$dZ50N","plagination","classList","add","currentPage","burger","mainCocktailsList","innerHTML","currentTarget","nodeName","target","textContent","byLetter","_ctx","sent","elements","searchInput","value","byName","length","$04ec958935e13352$export$e4df3729568305fe","remove","cocktailsSection","error","$04ec958935e13352$var$showSearchResults","numberOfItems","itemsPerPage","addDrink","children","toggle","toggleActive","toggleDrink","id","map","el","index","insertAdjacentHTML","$DIZKv","useHtml","iconHeart","favDrink","document","querySelector","concat","idDrink","addEventListener","$fSyzt","listenLearnMoreBtns","resultsNumber","plaginationMarkup","numberOfPages","Math","ceil","i","active","push","pages","join","querySelectorAll","forEach","btn","$04ec958935e13352$var$plaginationClick","$04ec958935e13352$var$_plaginationClick","numOfPages","arrowPrev","arrowNext","searchByAbcBtnsMobile","searchByAbcBtns","form","nextPage","prevPage"],"version":3,"file":"index.6d3af1e8.js.map"}