{"mappings":"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","sources":["src/JS/searchForm.js"],"sourcesContent":["import FetchDrinks from './fetchDrinks';\nimport cocktailMarkup from './cocktailMarkup';\nimport Plagination from './plagination';\nimport { listenLearnMoreBtns, currentModalID } from './learnMoreBtns';\nimport refs from './refs';\nimport Storage from './storage';\n// import { addDrink } from '..';\n\nlet x;\nconst plagination = new Plagination();\nconst fetchDrinks = new FetchDrinks();\nconst storage = new Storage();\n// ---------------------------------\nrefs.searchByAbcBtnsMobile.addEventListener('click', searchByAbcMobile);\nrefs.searchByAbcBtns.addEventListener('click', searchByAbc);\nfunction searchByAbc(e) {\n  if (e.target != e.currentTarget) {\n    handleSubmit(e);\n  }\n}\nfunction searchByAbcMobile(e) {\n  if (e.target != e.currentTarget && e.target.nodeName != 'BUTTON') {\n    handleSubmit(e);\n  }\n}\nrefs.form.forEach(e => e.addEventListener('submit', handleSubmit));\nasync function handleSubmit(e) {\n  e.preventDefault();\n  refs.plagination.classList.add('visually-hidden');\n  plagination.currentPage = 1;\n  refs.burger.classList.add('visually-hidden');\n  refs.mainCocktailsList.innerHTML = '';\n  let searchKeyWord;\n  let serchResult;\n  if (e.currentTarget.nodeName == 'UL' || e.currentTarget.nodeName == 'DIV') {\n    searchKeyWord = e.target.textContent;\n    serchResult = await fetchDrinks.byLetter(searchKeyWord);\n  } else {\n    searchKeyWord = e.currentTarget.elements.searchInput.value;\n    serchResult = await fetchDrinks.byName(searchKeyWord);\n  }\n\n  x = serchResult;\n  if (serchResult != null && serchResult.length > 9) {\n    createPlaginationList(serchResult.length);\n    refs.plagination.classList.remove('visually-hidden');\n  }\n  if (serchResult == null) {\n    refs.cocktailsSection.classList.add('visually-hidden');\n    refs.error.classList.remove('visually-hidden');\n    refs.plagination.classList.add('visually-hidden');\n  } else {\n    refs.error.classList.add('visually-hidden');\n    refs.cocktailsSection.classList.remove('visually-hidden');\n    showSearchResults(serchResult);\n  }\n}\nfunction showSearchResults(serchResult) {\n  const numberOfItems = plagination.itemsPerPage();\n  serchResult.map((el, index) => {\n    if (\n      index >= (plagination.currentPage - 1) * numberOfItems &&\n      index < plagination.currentPage * numberOfItems\n    ) {\n      refs.mainCocktailsList.insertAdjacentHTML(\n        'beforeend',\n        cocktailMarkup(el)\n      );\n      // ------- adding icon----\n      const useHtml = refs.iconHeart.innerHTML;\n      const favDrink = document.querySelector(`[id=\"${el.idDrink}\"]`);\n      favDrink.addEventListener('click', addDrink);\n      listenLearnMoreBtns(el);\n      const svg = favDrink.children[1];\n      svg.innerHTML = useHtml;\n\n      // ----------------------\n    }\n  });\n  function addDrink(e) {\n    toggleActive(e);\n    storage.toggleDrink(e.currentTarget.id);\n  }\n  function toggleActive(e) {\n    if (e.currentTarget.children[0].textContent === 'Add to') {\n      e.currentTarget.children[0].textContent = 'Remove';\n    } else {\n      e.currentTarget.children[0].textContent = 'Add to';\n    }\n    e.currentTarget.children[1].classList.toggle('icon-heart-not-active');\n  }\n  // listenLearnMoreBtns();\n}\nfunction createPlaginationList(resultsNumber) {\n  const plaginationMarkup = [];\n  const numberOfItems = plagination.itemsPerPage();\n  const numberOfPages = Math.ceil(resultsNumber / numberOfItems);\n  for (let i = 1; i < numberOfPages + 1; i++) {\n    let active;\n    if (i == plagination.currentPage) {\n      active = 'pagination__active';\n    }\n    plaginationMarkup.push(\n      `<li><button type=\"button\" class=\"pagination__numb pagination__item ${active}\" id=\"${i}\" data-page>${i}</button></li>`\n    );\n  }\n  refs.pages.innerHTML = plaginationMarkup.join('');\n  const plagBtns = document.querySelectorAll('[data-page]');\n  plagBtns.forEach(btn => {\n    btn.addEventListener('click', plaginationClick);\n  });\n}\n\nasync function plaginationClick(e) {\n  const plagBtns1 = document.querySelectorAll('[data-page]');\n  plagBtns1.forEach(btn => btn.classList.remove('pagination__active'));\n  e.target.classList.add('pagination__active');\n  plagination.currentPage = +e.currentTarget.id;\n  refs.mainCocktailsList.innerHTML = '';\n  const numOfPages = refs.pages.children.length;\n  if (plagination.currentPage != 1) {\n    refs.arrowPrev.children[0].classList.remove('arrow-no-active');\n  }\n  if (plagination.currentPage == 1) {\n    refs.arrowPrev.children[0].classList.add('arrow-no-active');\n  }\n  if (plagination.currentPage == numOfPages) {\n    refs.arrowNext.children[0].classList.add('arrow-no-active');\n  }\n  if (plagination.currentPage != numOfPages) {\n    refs.arrowNext.children[0].classList.remove('arrow-no-active');\n  }\n  showSearchResults(x);\n}\nrefs.arrowNext.addEventListener('click', showNextPage);\nrefs.arrowPrev.addEventListener('click', showPrevPage);\nfunction showNextPage() {\n  const numOfPages = refs.pages.children.length;\n  if (plagination.currentPage < numOfPages) {\n    plagination.nextPage();\n    refs.mainCocktailsList.innerHTML = '';\n    const plagBtns1 = document.querySelectorAll('[data-page]');\n    plagBtns1.forEach(btn => {\n      btn.classList.remove('pagination__active');\n      if (btn.textContent == plagination.currentPage) {\n        btn.classList.add('pagination__active');\n      }\n    });\n    if (plagination.currentPage != 1) {\n      refs.arrowPrev.children[0].classList.remove('arrow-no-active');\n    }\n    if (plagination.currentPage == 1) {\n      refs.arrowPrev.children[0].classList.add('arrow-no-active');\n    }\n    if (plagination.currentPage == numOfPages) {\n      refs.arrowNext.children[0].classList.add('arrow-no-active');\n    }\n    if (plagination.currentPage != numOfPages) {\n      refs.arrowNext.children[0].classList.remove('arrow-no-active');\n    }\n    showSearchResults(x);\n  }\n}\nfunction showPrevPage() {\n  const numOfPages = refs.pages.children.length;\n  if (plagination.currentPage > 1) {\n    plagination.prevPage();\n    refs.mainCocktailsList.innerHTML = '';\n    const plagBtns1 = document.querySelectorAll('[data-page]');\n    plagBtns1.forEach(btn => {\n      btn.classList.remove('pagination__active');\n      if (btn.textContent == plagination.currentPage) {\n        btn.classList.add('pagination__active');\n      }\n    });\n    if (plagination.currentPage != 1) {\n      refs.arrowPrev.children[0].classList.remove('arrow-no-active');\n    }\n    if (plagination.currentPage == 1) {\n      refs.arrowPrev.children[0].classList.add('arrow-no-active');\n    }\n    if (plagination.currentPage == numOfPages) {\n      refs.arrowNext.children[0].classList.add('arrow-no-active');\n    }\n    if (plagination.currentPage != numOfPages) {\n      refs.arrowNext.children[0].classList.remove('arrow-no-active');\n    }\n    showSearchResults(x);\n  }\n}\n\nexport { createPlaginationList, handleSubmit };\n"],"names":["$9vN2i","parcelRequire","$8c44bd3cb660fba6$var$x","$8c44bd3cb660fba6$var$plagination","$2wGo8","default","$8c44bd3cb660fba6$var$fetchDrinks","$8c44bd3cb660fba6$var$storage","$1W6ce","async","$8c44bd3cb660fba6$export$89c2621768820c8b","e","searchKeyWord","serchResult","preventDefault","$8Obb9","plagination","classList","add","currentPage","burger","mainCocktailsList","innerHTML","currentTarget","nodeName","target","textContent","byLetter","elements","searchInput","value","byName","length","resultsNumber","plaginationMarkup","numberOfItems","itemsPerPage","numberOfPages","Math","ceil","i","active","push","pages","join","document","querySelectorAll","forEach","btn","addEventListener","$8c44bd3cb660fba6$var$plaginationClick","$8c44bd3cb660fba6$export$e4df3729568305fe","remove","cocktailsSection","error","$8c44bd3cb660fba6$var$showSearchResults","addDrink","children","toggle","toggleActive","toggleDrink","id","map","el","index","insertAdjacentHTML","$6ZrOe","useHtml","iconHeart","favDrink","querySelector","idDrink","$byv5z","listenLearnMoreBtns","numOfPages","arrowPrev","arrowNext","searchByAbcBtnsMobile","searchByAbcBtns","form","nextPage","prevPage"],"version":3,"file":"index.44f1c37f.js.map"}