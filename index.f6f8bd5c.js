function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},o=e.parcelRequire58cb;null==o&&((o=function(t){if(t in s)return s[t].exports;if(t in i){var e=i[t];delete i[t];var o={id:t,exports:{}};return s[t]=o,e.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(t,e){i[t]=e},e.parcelRequire58cb=o);var l=o("iJYdK");class c{static template(t){const{name:e,options:s,targetValue:i}=t,o=[];let l=-1,c="",n="Выберите из списка";return s.forEach(((t,e)=>{let s="";t[0]===i&&(s=` ${this.EL_OPTION_SELECTED}`,l=e,c=t[0],n=t[1]),o.push(`<li class="itc-select__option${s}" data-select="option"\n          data-value="${t[0]}" data-index="${e}">${t[1]}</li>`)})),`<button type="button" class="itc-select__toggle" name="${e}"\n        value="${c}" data-select="toggle" data-index="${l}">\n        ${n}</button><div class="itc-select__dropdown">\n        <ul class="itc-select__options">${o.join("")}</ul></div>`}static hideOpenSelect(){document.addEventListener("click",(t=>{if(!t.target.closest(`.${this.EL}`)){document.querySelectorAll(`.${this.EL_SHOW}`).forEach((t=>{t.classList.remove(this.EL_SHOW)}))}}))}static create(t,e){return this._el="string"==typeof t?document.querySelector(t):t,this._el?new this(t,e):null}_onClick(t){const{target:e}=t,s=e.closest(this.constructor.DATA).dataset.select;"toggle"===s?this.toggle():"option"===s&&this._changeValue(e)}_updateOption(t){const e=t.closest(`.${this.constructor.EL_OPTION}`),s=this._el.querySelector(`.${this.constructor.EL_OPTION_SELECTED}`);return s&&s.classList.remove(this.constructor.EL_OPTION_SELECTED),e.classList.add(this.constructor.EL_OPTION_SELECTED),this._elToggle.textContent=e.textContent,this._elToggle.value=e.dataset.value,this._elToggle.dataset.index=e.dataset.index,this._el.dispatchEvent(new CustomEvent("itc.select.change")),this._params.onSelected&&this._params.onSelected(this,e),e.dataset.value}_reset(){const t=this._el.querySelector(`.${this.constructor.EL_OPTION_SELECTED}`);return t&&t.classList.remove(this.constructor.EL_OPTION_SELECTED),this._elToggle.textContent="Выберите из списка",this._elToggle.value="",this._elToggle.dataset.index="-1",this._el.dispatchEvent(new CustomEvent("itc.select.change")),this._params.onSelected&&this._params.onSelected(this,null),""}_changeValue(t){t.classList.contains(this.constructor.EL_OPTION_SELECTED)||(this._updateOption(t),this.hide())}show(){document.querySelectorAll(this.constructor.EL_SHOW).forEach((t=>{t.classList.remove(this.constructor.EL_SHOW)})),this._el.classList.add(`${this.constructor.EL_SHOW}`)}hide(){this._el.classList.remove(this.constructor.EL_SHOW)}toggle(){this._el.classList.contains(this.constructor.EL_SHOW)?this.hide():this.show()}dispose(){this._el.removeEventListener("click",this._onClickFn)}get value(){return this._elToggle.value}set value(t){let e=!1;this._el.querySelectorAll(".select__option").forEach((s=>{s.dataset.value===t&&(e=!0,this._updateOption(s))})),e||this._reset()}get selectedIndex(){return this._elToggle.dataset.index}set selectedIndex(t){const e=this._el.querySelector(`.select__option[data-index="${t}"]`);e&&this._updateOption(e),this._reset()}constructor(t,e){this._el="string"==typeof t?document.querySelector(t):t,this._params=e||{},this._onClickFn=this._onClick.bind(this),this._params.options&&(this._el.innerHTML=this.constructor.template(this._params),this._el.classList.add(this.constructor.EL)),this._elToggle=this._el.querySelector(this.constructor.DATA_TOGGLE),this._el.addEventListener("click",this._onClickFn)}}t(l)(c,"EL","itc-select"),t(l)(c,"EL_SHOW","itc-select_show"),t(l)(c,"EL_OPTION","itc-select__option"),t(l)(c,"EL_OPTION_SELECTED","itc-select__option_selected"),t(l)(c,"DATA","[data-select]"),t(l)(c,"DATA_TOGGLE",'[data-select="toggle"]'),c.hideOpenSelect();new c("#select-2",{name:"key",targetValue:"a",options:[["a","A"],["b","B"],["c","C"],["d","D"],["e","E"],["f","F"],["g","G"],["h","H"],["i","I"],["j","J"],["k","K"],["l","L"],["m","M"],["n","N"],["o","O"],["p","P"],["q","Q"],["r","R"],["s","S"],["t","T"],["u","U"],["v","V"],["w","W"],["x","X"],["y","Y"],["z","Z"],["0","0"],["1","1"],["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"]]});
//# sourceMappingURL=index.f6f8bd5c.js.map
