{"mappings":"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","sources":["src/JS/searchFavorite.js"],"sourcesContent":["import refs from './refs';\nimport cocktailMarkup from './cocktailMarkup';\nimport Plagination from './plagination';\nimport { listenLearnMoreBtns } from './learnMoreBtns';\nimport favIngredMarkup from './favIngredientsMarkup';\nimport Storage from './storage';\nimport { createIngredientDetails } from './learnMoreBtns';\nimport ingredientModalMarkup from './ingredientModalMarkup';\nimport FetchDrinks from './fetchDrinks';\n\nconst plagination = new Plagination();\nconst fetchDrinks = new FetchDrinks();\nconst storage = new Storage();\nrefs.form.forEach(e => e.addEventListener('submit', handleSubmit));\n// refs.modalAddIngredient.addEventListener('click', addIngredientModal);\nlet page = localStorage.getItem('page');\nlet res;\n// let ingredientModalName;\nfunction handleSubmit(e) {\n  e.preventDefault();\n  refs.burger.classList.add('visually-hidden');\n  refs.favCocktailsList.innerHTML = '';\n  refs.favIngredientsList.innerHTML = '';\n  let serchResult;\n  if (page == 'cocktails') {\n    const cocktailsStorege = localStorage.getItem('cocktails');\n    arr = JSON.parse(cocktailsStorege);\n    serchResult = arr.filter(el =>\n      el.strDrink.includes(e.currentTarget.elements.searchInput.value)\n    );\n    res = serchResult;\n  } else if (page == 'ingredients') {\n    const cocktailsStorege = localStorage.getItem('ingredients');\n    arr = JSON.parse(cocktailsStorege);\n    serchResult = arr.filter(el =>\n      el.strIngredient.includes(e.currentTarget.elements.searchInput.value)\n    );\n    res = serchResult;\n  }\n  // ===============err/res============\n\n  if (serchResult.length == 0) {\n    if (page == 'cocktails') {\n      refs.favCocktailsErr.classList.remove('visually-hidden');\n    } else {\n      refs.favIngredientsErr.classList.remove('visually-hidden');\n    }\n  } else {\n    if (page == 'cocktails') {\n      refs.favCocktailsErr.classList.add('visually-hidden');\n    } else {\n      refs.favIngredientsErr.classList.add('visually-hidden');\n    }\n    if (page == 'cocktails') {\n      showSearchResults(serchResult);\n    } else {\n      showsearchedIngredients(serchResult);\n    }\n  }\n}\nfunction showSearchResults(serchResult) {\n  serchResult.map((el, index) => {\n    refs.favCocktailsList.insertAdjacentHTML('beforeend', cocktailMarkup(el));\n    // ------- adding icon----\n    const useHtml = refs.iconHeart.innerHTML;\n    const favDrink = document.querySelector(`[id=\"${el.idDrink}\"]`);\n    favDrink.addEventListener('click', addDrink);\n    listenLearnMoreBtns(el);\n    const svg = favDrink.children[1];\n    svg.innerHTML = useHtml;\n\n    // ----------------------\n  });\n}\nfunction addDrink(e) {\n  toggleActive(e);\n  storage.toggleDrink(e.currentTarget.id);\n}\nfunction toggleActive(e) {\n  if (e.currentTarget.children[0].textContent === 'Add to') {\n    e.currentTarget.children[0].textContent = 'Remove';\n  } else {\n    e.currentTarget.children[0].textContent = 'Add to';\n  }\n  e.currentTarget.children[1].classList.toggle('icon-heart-not-active');\n}\nfunction showsearchedIngredients(serchResult) {\n  refs.favIngredientsList.innerHTML = '';\n  const numberOfItems = plagination.itemsPerPage();\n\n  if (serchResult.length > 9) {\n    createPlaginationList(serchResult.length);\n    refs.plagination.classList.remove('visually-hidden');\n  }\n  serchResult.map((el, index) => {\n    if (\n      index >= (plagination.currentPage - 1) * numberOfItems &&\n      index < plagination.currentPage * numberOfItems\n    ) {\n      refs.favIngredientsList.insertAdjacentHTML(\n        'beforeend',\n        favIngredMarkup(el)\n      );\n\n      const favIngred = document.querySelector(`[id=\"${el.strIngredient}\"]`);\n      favIngred.addEventListener('click', addIngredient);\n      const useHtml = refs.iconHeart.innerHTML;\n\n      const svg = favIngred.children[1];\n      svg.innerHTML = useHtml;\n      // ingredientDetailsBtn(el);\n      const ingredientDetailsBtns = document.querySelector(\n        `[id=\"${1 + el.strIngredient}\"]`\n      );\n\n      ingredientDetailsBtns.addEventListener('click', showModalIngregients);\n    }\n  });\n}\nfunction addIngredient(e) {\n  if (e.currentTarget.children[0].textContent == 'Add to') {\n    e.currentTarget.children[0].textContent = 'Remove';\n  } else {\n    e.currentTarget.children[0].textContent = 'Add to';\n  }\n  e.currentTarget.children[1].classList.toggle('icon-heart-not-active');\n  storage.toggleIngredient(e.currentTarget.id);\n}\n\nasync function showModalIngregients(e) {\n  modalId = e.currentTarget.id.slice(1);\n  localStorage.setItem('favIngredientmodalId', modalId);\n  refs.ingredientMOdal.classList.remove('visually-hidden');\n  if (storage.isIngredientInStorage(modalId)) {\n    refs.modalAddIngredient.children[0].textContent = 'Remove from favorite';\n  } else {\n    refs.modalAddIngredient.children[0].textContent = 'Add to favorite';\n  }\n  const ingred = await fetchDrinks.ingredient(modalId);\n  const ingredientDetails = createIngredientDetails(ingred);\n  refs.ingredientMOdalContent.innerHTML = ingredientModalMarkup(\n    ingred,\n    ingredientDetails\n  );\n}\nfunction addIngredientModal1(e) {\n  if (e.target.textContent === 'Add to favorite') {\n    e.target.textContent = 'Remove from favorite';\n  } else {\n    e.target.textContent = 'Add to favorite';\n  }\n  storage.toggleIngredient(modalId);\n}\n"],"names":["$bpxeT","parcelRequire","$a985e79614456017$var$plagination","$f3eg1","default","$a985e79614456017$var$fetchDrinks","$52cT6","$a985e79614456017$var$storage","$gp0NK","$dZ50N","form","forEach","e","addEventListener","$a985e79614456017$var$handleSubmit","$a985e79614456017$var$page","localStorage","getItem","serchResult","preventDefault","burger","classList","add","favCocktailsList","innerHTML","favIngredientsList","cocktailsStorege","arr","JSON","parse","filter","el","strDrink","includes","currentTarget","elements","searchInput","value","cocktailsStorege1","strIngredient","length","favCocktailsErr","remove","favIngredientsErr","map","index","insertAdjacentHTML","$DIZKv","useHtml","iconHeart","favDrink","document","querySelector","concat","idDrink","$a985e79614456017$var$addDrink","$fSyzt","listenLearnMoreBtns","children","$a985e79614456017$var$showSearchResults","numberOfItems","itemsPerPage","createPlaginationList","plagination","currentPage","$iAap4","favIngred","$a985e79614456017$var$addIngredient","$a985e79614456017$var$showModalIngregients","$a985e79614456017$var$showsearchedIngredients","textContent","toggle","$a985e79614456017$var$toggleActive","toggleDrink","id","toggleIngredient","$a985e79614456017$var$_showModalIngregients","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","ingred","ingredientDetails","modalId","slice","setItem","ingredientMOdal","isIngredientInStorage","modalAddIngredient","ingredient","_ctx","sent","createIngredientDetails","ingredientMOdalContent","$ln48k"],"version":3,"file":"favorites.616c778d.js.map"}